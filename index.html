<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>HPOS – Human Potential Operating System</title>

<style>
:root {
  --bg1: #0a0f1f;
  --bg2: #0f172a;
  --card: rgba(255,255,255,0.06);
  --text: #e5e7eb;
  --muted: #94a3b8;
  --accent: #38bdf8;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Inter, system-ui, Arial;
  background: radial-gradient(circle at top, var(--bg2), var(--bg1));
  color: var(--text);
  min-height: 100vh;
}

.screen {
  display: none;
  padding: 40px 20px;
  min-height: 100vh;
}

.screen.active {
  display: block;
}

.card {
  max-width: 720px;
  margin: auto;
  background: var(--card);
  border-radius: 18px;
  padding: 30px;
  box-shadow: 0 40px 80px rgba(0,0,0,0.4);
  backdrop-filter: blur(12px);
}

h1, h2, h3 {
  font-weight: 500;
}

p {
  color: var(--muted);
  line-height: 1.6;
}

button {
  width: 100%;
  padding: 14px;
  margin-top: 12px;
  border-radius: 10px;
  border: none;
  background: #1e293b;
  color: var(--text);
  font-size: 15px;
  cursor: pointer;
}

button:hover {
  background: #334155;
}

.small {
  font-size: 13px;
  color: var(--muted);
  margin-top: 10px;
}

.problem {
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 14px;
  padding: 18px;
  margin-top: 16px;
}
</style>
</head>

<body>

<!-- WELCOME -->
<div class="screen active" id="welcome">
  <div class="card">
    <h1>HPOS initialized</h1>
    <p>
      This is not a test.<br/>
      This is a system to help you act in the real world.
    </p>
    <p class="small">
      We move slowly. We go deep. We don’t reset unless you ask.
    </p>
    <button onclick="nextScreen('questions')">Let’s start simple</button>
  </div>
</div>

<!-- QUESTIONS -->
<div class="screen" id="questions">
  <div class="card">
    <h2 id="qText"></h2>
    <div id="qOptions"></div>
    <p class="small">Answer honestly. There are no right answers.</p>
  </div>
</div>

<!-- MIRROR -->
<div class="screen" id="mirror">
  <div class="card">
    <h2>What HPOS sees so far</h2>
    <ul id="mirrorList"></ul>
    <p class="small">Does this feel close?</p>
    <button onclick="confirmMirror(true)">Yes, this feels right</button>
    <button onclick="confirmMirror(false)">No, something feels off</button>
  </div>
</div>

<!-- PROBLEM MARKET -->
<div class="screen" id="problems">
  <div class="card">
    <h2>Problem Marketplace</h2>
    <p class="small">
      Choose one problem. We go deep, not wide.
    </p>
    <div id="problemList"></div>
  </div>
</div>

<!-- EXECUTION -->
<div class="screen" id="execution">
  <div class="card">
    <h2 id="execTitle"></h2>
    <p id="execDesc"></p>
    <h3>Week 1 – Observe</h3>
    <ul>
      <li>Notice where this problem appears daily</li>
      <li>Write without fixing</li>
      <li>No improvement yet</li>
    </ul>
    <p class="small">
      Execution begins when clarity is respected.
    </p>
  </div>
</div>

<script>
/* -------------------------
   COGNITIVE MODEL
------------------------- */
const brain = JSON.parse(localStorage.getItem("hpos_brain")) || {
  depth: 0,
  action: 0,
  avoidance: 0,
  structure: 0,
  curiosity: 0,
  noise: 0,
  validation: 0
};

/* -------------------------
   QUESTIONS (sample 15 / expandable to 500+)
------------------------- */
const questions = [
{
 text: "When something breaks, what do you usually do first?",
 options: [
  { t: "Understand why it broke", e: { depth: 2, action: -1 } },
  { t: "Fix it immediately", e: { action: 2 } },
  { t: "Wait and see if it resolves", e: { avoidance: 2 } },
  { t: "Ask someone else", e: { validation: 2 } }
 ]
},
{
 text: "You learn a useful skill. What happens next?",
 options: [
  { t: "I wait until I feel ready", e: { avoidance: 2 } },
  { t: "I try it immediately", e: { action: 2 } },
  { t: "I refine understanding", e: { depth: 2 } },
  { t: "I move on to something new", e: { curiosity: 2 } }
 ]
},
{
 text: "Too many options usually make you feel…",
 options: [
  { t: "Curious", e: { curiosity: 2 } },
  { t: "Overwhelmed", e: { noise: 2 } },
  { t: "Focused on filtering", e: { structure: 2 } },
  { t: "Detached", e: { avoidance: 1 } }
 ]
}
];

let qIndex = 0;

/* -------------------------
   UI FUNCTIONS
------------------------- */
function nextScreen(id) {
 document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
 document.getElementById(id).classList.add('active');
}

function renderQuestion() {
 const q = questions[qIndex];
 document.getElementById("qText").innerText = q.text;
 const box = document.getElementById("qOptions");
 box.innerHTML = "";
 q.options.forEach(o => {
   const btn = document.createElement("button");
   btn.innerText = o.t;
   btn.onclick = () => answer(o.e);
   box.appendChild(btn);
 });
}

function answer(effect) {
 Object.keys(effect).forEach(k => brain[k] += effect[k]);
 qIndex++;
 if (qIndex < questions.length) {
   renderQuestion();
 } else {
   localStorage.setItem("hpos_brain", JSON.stringify(brain));
   showMirror();
 }
}

/* -------------------------
   MIRROR LOGIC
------------------------- */
function showMirror() {
 const insights = [];
 if (brain.depth > brain.action) insights.push("You prefer understanding systems before acting.");
 if (brain.avoidance > 1) insights.push("You delay action when clarity feels incomplete.");
 if (brain.structure > 1) insights.push("You work better with structure than chaos.");
 if (brain.curiosity > 1) insights.push("Curiosity drives you more than rewards.");

 const list = document.getElementById("mirrorList");
 list.innerHTML = "";
 insights.forEach(i => {
   const li = document.createElement("li");
   li.innerText = i;
   list.appendChild(li);
 });
 nextScreen("mirror");
}

function confirmMirror(ok) {
 if (!ok) {
   qIndex = 0;
   nextScreen("questions");
   renderQuestion();
 } else {
   showProblems();
 }
}

/* -------------------------
   PROBLEM ENGINE
------------------------- */
function showProblems() {
 const problems = [];
 if (brain.depth > 2 && brain.action < 2) {
   problems.push({
     name: "Learning Without Application",
     desc: "You gain insight easily, but execution waits for certainty."
   });
 }
 if (brain.noise > 1) {
   problems.push({
     name: "Overwhelm From Noise",
     desc: "Too many inputs reduce clarity and follow-through."
   });
 }

 const box = document.getElementById("problemList");
 box.innerHTML = "";
 problems.forEach(p => {
   const d = document.createElement("div");
   d.className = "problem";
   d.innerHTML = `<h3>${p.name}</h3><p>${p.desc}</p>`;
   const b = document.createElement("button");
   b.innerText = "Work on this";
   b.onclick = () => startExecution(p);
   d.appendChild(b);
   box.appendChild(d);
 });
 nextScreen("problems");
}

/* -------------------------
   EXECUTION
------------------------- */
function startExecution(p) {
 document.getElementById("execTitle").innerText = p.name;
 document.getElementById("execDesc").innerText = p.desc;
 localStorage.setItem("hpos_problem", JSON.stringify(p));
 nextScreen("execution");
}

/* INIT */
renderQuestion();
</script>

</body>
</html>
